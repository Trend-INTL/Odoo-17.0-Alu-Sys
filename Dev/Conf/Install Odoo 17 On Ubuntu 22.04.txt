This article will guide you through the installation and configuration process of Odoo 17 in an Ubuntu 22.04 system.
Prerequisites
OS: Ubuntu 22.04 with Python >= 3.10
Resources: 2-core CPU & 2GB of RAM
Access: SSH connection to the server

Permissions: a user with 'sudo' privileges
Note: you can execute all of the commands below from the root user, but for security purposes, it is recommended that you use a separate user with sudo privileges.

Step 1: Log in to the Ubuntu server via SSH as the root user:
The first step in the installation is to connect to your server via ssh. You can log in to the server using ssh.
ssh username@IP_Address -p Port_number
e.g. ssh root@127.0.0.1 -p 22

Step 2: Update Packages
Then let’s update existing Ubuntu packages and upgrade them to newer versions. The following commands will help you.
sudo apt-get update
sudo apt-get upgrade -y

Step 3: Create an Odoo user.
Create a new user called odoo17 with home directory /opt/odoo17. This prevents the security risks posed by running Odoo under the root user. You can do it with this command. You can give any name to the user. However, be careful to create a PostgreSQL user with the same name.
sudo useradd -m -d /opt/odoo17 -U -r -s /bin/bash odoo17
sudo passwd odoo17
sudo usermod -aG sudo odoo17
groups odoo17
/deluser odoo17 sudo

Step 4: Install Dependencies
Since Odoo is built on Python, we need to install some dependencies to proceed with installing Odoo 17 on our Ubuntu 22.04 system. We can install them by running the commands below.
sudo apt install -y git python3-pip python3-dev python3-dev libxml2-dev libxslt1-dev zlib1g-dev libsasl2-dev libldap2-dev build-essential libssl-dev libffi-dev libmysqlclient-dev libjpeg-dev libpq-dev libjpeg8-dev liblcms2-dev libblas-dev libatlas-base-dev

sudo apt install -y npm

sudo ln -s -f /usr/bin/nodejs /usr/bin/node

sudo npm install -g less less-plugin-clean-css

sudo apt-get install -y node-less
sudo npm install -g rtlcss

Step 5: Install and configure PostgreSQL
In this step, you need to set up the database server. Odoo uses PostgreSQL as the database back-end. Install the database server for Odoo By using the following command.
sudo apt install postgresql -y
Now you need to create a PostgreSQL user for the handling of the database server i.e. PostgreSQL.  In our case, we will create a PostgreSQL user with the same name as the previously created system user i.e odoo
sudo su - postgres

createuser --createdb --username postgres --no-createrole --no-superuser --pwprompt odoo17
The user and the password are needed for the conf file. Postgres uses a distinct system user to perform tasks. To switch between users, run sudo su -postgres. Next, create a database user for Odoo 17.
psql
ALTER USER odoo17 WITH SUPERUSER;
If the user runs the aforementioned command, superuser access rights will be guaranteed. Next, log out of Postgres and PSQL.
\q
exit

Step 6: Install Wkhtmltopdf
For printing-related purposes, Odoo 17 requires a wkhtmltopdf version higher than 0.12.2. Wkhtmltopdf is an open-source command line tool to render HTML data into PDF format using Qt webkit. To install wkhtmltopdf on your Ubuntu 22.04 server, follow the steps below.
/sudo wget https://github.com/wkhtmltopdf/wkhtmltopdf/releases/download/0.12.5/wkhtmltox_0.12.5-1.bionic_amd64.deb
sudo wget  http://security.ubuntu.com/ubuntu/pool/universe/w/wkhtmltopdf/wkhtmltopdf_0.12.6-2build2_amd64.deb
/sudo dpkg -i wkhtmltox_0.12.5-1.bionic_amd64.deb
/ sudo apt install wkhtmltopdf
sudo dpkg -i wkhtmltopdf_0.12.6-2build2_amd64.deb
sudo apt install -f
wkhtmltopdf --version

Step 7: Install Odoo
In Ubuntu 22.04, we can install Odoo from the default Ubuntu repository, but this will install Odoo version 17. In this article, we will install Odoo 17 under a python virtual environment. We created a system user earlier in this article; let’s switch to system user ‘odoo17’ and then install Odoo under that username.

sudo su - odoo17
The command above should bring you to cd /opt/odoo17 and log you in as user ‘odoo17’. Now, download Odoo from Github.

git clone https://www.github.com/odoo/odoo --depth 1 --branch 17.0 odoo17

Execute the following command to create a new python virtual environment.
cd /opt/odoo17/odoo17
sudo apt install python3.12-venv
python3 -m venv odoo17-venv

The virtual environment is now installed; it is time to activate it by running this command.
source odoo17-venv/bin/activate

Once executed, your shell prompt would look like this:
(odoo17-venv) odoo17@ubuntu22:~$

Next, let’s install Odoo
(odoo17-venv) odoo17@ubuntu22:~$ pip3 install wheel
cd /opt/odoo17/odoo17
(odoo17-venv) odoo17@ubuntu22:~$ pip3 install -r requirements.txt

Once Odoo installation is completed, we can create a new directory to store our custom Odoo add-ons.
(odoo17-venv) odoo17@ubuntu22:~$ deactivate

Step 8: Create a directory for the 3rd party addons:
We’ll create a new directory a separate directory for the 3rd party addons.
sudo mkdir /opt/odoo17/odoo17/caddons

This directory should later be added to the addons_path parameter that defines a list of directories where Odoo searches for modules. After this step, we will switch back to the sudo user using this command.
exit

Step 9: Create a configuration file for the Odoo Installation
The command below allows you to create and edit a *.conf file.

sudo nano /etc/odoo17.conf
Add the following configuration information to the file. 
Note: Remember to change the admin_passwd to something more secure.
--------------------------------------------------------------------
[options]
admin_passwd = 123456
db_host = False
db_port = False
db_user = odoo
db_password = False
addons_path = /opt/odoo17/odoo17/addons,/opt/odoo17/odoo17/caddons
xmlrpc_port = 8069
--------------------------------------------------------------------

Step 10: Create Odoo Systemd Unit file
In this step, we will create a systemd unit file. It is required to start/stop/restart Odoo.

sudo nano /etc/systemd/system/odoo17.service
Paste the following content into the systemd unit file above.
-------------------------------------------------------------------
[Unit]
Description=Odoo 17.0 ERP CRM Service
Requires=postgresql.service
After=network.target postgresql.service

[Service]
Type=simple
SyslogIdentifier=odoo17
PermissionsStartOnly=true
User=odoo17
Group=odoo17
ExecStart=/opt/odoo17/odoo17/odoo17-venv/bin/python3 /opt/odoo17/odoo17/odoo-bin -c /etc/odoo17.conf
StandardOutput=journal+console

[Install]
WantedBy=multi-user.target
---------------------------------------------------------------------

With the next command, we notify systemd that the new file exists and reload the daemon
sudo systemctl daemon-reload
Next, we start the Odoo service and enable it to run on system boot.
sudo systemctl enable --now odoo17
Now we check if the service is running.
sudo systemctl status odoo17
sudo service odoo17 stop
sudo service odoo17 start

You should get the following output.
? odoo17.service - Odoo17
     Loaded: loaded (/etc/systemd/system/odoo17.service; enabled; vendor preset: enabled)
     Active: active (running) since Tue 2023-11-28 09:56:28 UTC; 28s ago
...

This next command will allow you to check on the messages logged by the odoo17 service.
sudo service odoo17 start
sudo journalctl -u odoo

Step 11: Testing the Odoo Installation
On your browser, type: http://<your_domain_or_IP_address>:8069
If the installation was successful, you'll see the start page for Odoo 17. 

Congratulations! You have successfully installed Odoo 17 on Ubuntu 22.04
======================================================================================Êã ÈÍãÏ Çááå==============================================================================


How to Install Odoo 16 Version on Ubuntu 22.04
Introduction
In this guide, we will walk you through the process of installing and configuring Odoo 16 ERP on Ubuntu 22.04. Please follow these steps: 

Step 1: Update Package Manager
Before installing Odoo, make sure your Ubuntu package manager is up to date by executing the following commands:
sudo rm -rf /usr/lib/python3.*/EXTERNALLY-MANAGED
sudo apt-get update
sudo apt-get upgrade -y

Step 2: Create an Odoo User
To ensure proper system management, create an Odoo user with administrative privileges using the following command:
sudo adduser --system --home=/opt/odoo --group odoo

/sudo useradd -m -d /opt/odooerp -U -r -s /bin/bash odoo
/sudo usermod -aG sudo odoo
sudo passwd odoo

Step 3: Install PostgreSQL and Create an Odoo User for PostgreSQL
Odoo relies on PostgreSQL as its database server. Install PostgreSQL and create an Odoo user for database access:
sudo apt install postgresql -y
sudo su - postgres -c "createuser -s odoo" 2> /dev/null || true
sudo chmod 700 -R /var/lib/postgresql/16/main/
sudo systemctl restart postgresql
 
Step 4: Installation of Python and Python PIP Dependencies
Install Python and Python PIP dependencies required for Odoo:
sudo apt-get install git python3 python3-pip build-essential wget python3-dev python3-venv python3-wheel libxslt-dev libzip-dev libldap2-dev libsasl2-dev python3-setuptools node-less libjpeg-dev gdebi -y
sudo apt-get install libpq-dev python3-dev libxml2-dev libxslt1-dev libldap2-dev libsasl2-dev libffi-dev python3-psutil python3-polib python3-dateutil python3-decorator python3-lxml python3-reportlab python3-pil python3-passlib python3-werkzeug python3-psycopg2 python3-pypdf2 python3-gevent -y
pip install psycopg2 Werkzeug passlib Pillow reportlab lxml decorator python-dateutil polib lxml_html_clean psutil docutils num2words pytz
 
Step 5: Additional Packages Required
Node.js is required for Odoo 16. Install it with the following command:
sudo apt-get install nodejs npm -y
sudo apt install npm -y  ---------------->> install node java script
sudo npm install -g less less-plugin-clean-css
/sudo npm cache clean --force       ------------>> to clean cache	===> sudo npm cache verify  <===
sudo npm install -g n       ----------->>
sudo n stable           --------->> install stable node js
	sudo npm cache clean --force
sudo npm install -g npm    ------------->>
sudo npm install rtlcss -g    --------------->> install right to left node js library
	 sudo npm fund

If you need right-to-left CSS or language support in Odoo, you can add it with:
sudo npm install -g rtlcss

Step 6: Installation of wkhtmltox
To enable Odoo 16 to generate PDF reports, install wkhtmltopdf:

sudo apt-get install xfonts-75dpi xfonts-base -y

/wget https://github.com/wkhtmltopdf/packaging/releases/download/0.12.6.1-2/wkhtmltox_0.12.6.1-2.jammy_amd64.deb
/sudo dpkg -i wkhtmltox_0.12.6.1-2.jammy_amd64.deb
sudo wget  http://security.ubuntu.com/ubuntu/pool/universe/w/wkhtmltopdf/wkhtmltopdf_0.12.6-2build2_amd64.deb
/ sudo apt install wkhtmltopdf
sudo dpkg -i wkhtmltopdf_0.12.6-2build2_amd64.deb
sudo apt install -f
wkhtmltopdf --version
 

Step 7: Create a Log Directory and Provide Permissions
Create a log directory for Odoo and grant the necessary write permissions:
sudo mkdir /var/log/odoo17
sudo chown odoo:odoo /var/log/odoo16
 
Step 8: Installation of Odoo 16
Before installing Odoo, make sure your Ubuntu package manager is up to date by executing the following commands:
sudo apt-get install git-all
sudo apt-get install git
sudo chown -R odoo:odoo /opt/odoo
sudo mkdir /opt/odoo/odoo16
cd /opt/odoo/odoo16
/sudo git clone https://www.github.com/odoo/odoo /opt/odoo/odoo-server -b 16.0 --depth 1
sudo git clone https://github.com/odoo/odoo.git -b 16.0 --depth=1
 
Step 9: Setup Required Permissions
After installing Odoo 16, set the required permissions for it to function properly:
sudo chown -R odoo:odoo /opt/odoo/odoo16

Step 10: Creation of a Server Configuration File
Create a configuration file for Odoo:
sudo touch /etc/odoo16.conf
sudo su root -c "printf '[options]\n' | sudo tee /etc/odoo-server.conf"
sudo su root -c "printf 'admin_passwd = admin\n' | sudo tee -a /etc/odoo16.conf"
sudo su root -c "printf 'xmlrpc_port = 9080\n' | sudo tee -a /etc/odoo16.conf"
sudo su root -c "printf 'logfile = /var/log/odoo/odoo16.log\n' | sudo tee -a /etc/odoo16.conf"
sudo su root -c "printf 'addons_path=/opt/odoo/odoo16/addons\n' | sudo tee -a /etc/odoo16.conf"
sudo nano /etc/odoo16.conf
------------------------------------------
[options]
admin_passwd = 123456
xmlrpc_port = 8069
logfile = /var/log/odoo/odoo16.log
addons_path=/opt/odoo/odoo16/addons
-------------------------------------------
[options]
admin_passwd = 123456
db_host = False
db_port = False
db_user = odoo
db_password = False
logfile = /var/log/odoo/odoo16.log
addons_path = /opt/odoo/odoo16/odoo/addons,/opt/odoo/odoo16/addons
xmlrpc_port = 8069
----------------------------------------------------
Give the configuration file appropriate permissions:
sudo chown odoo:odoo /etc/odoo16.conf
sudo chmod 640 /etc/odoo16.conf
 
Step 11: Create a Python Virtual Environment
To isolate the Odoo installation, create a Python virtual environment:
sudo su -l odoo -s /bin/bash	==>>> change user
cd /opt/odoo16/odoo
python3 -m venv odoo-venv
source odoo-venv/bin/activate
pip3 install wheel
pip3 install -r requirements.txt
pip install greenlet
pip install pyproject.toml
deactivate

Step 12: Start the Odoo Instance
Now, start the Odoo service by executing the following commands:
cd /opt/odoo/odoo16/odoo
source odoo-venv/bin/activate
./odoo-bin -c /etc/odoo16.conf
 
Step 13: Login and Access the Odoo Application
You can access the Odoo application by opening a web browser and visiting http://localhost:8069 or http://_ip_or_domain:8069. Follow the on-screen instructions to customize your database and start using Odoo 16.
===========================Êã ÈÍãÏ Çááå===============================

